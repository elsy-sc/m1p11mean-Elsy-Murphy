<p-toast></p-toast>
<div class="grid">
    <div class="col-8 md:col-6">
        <div class="card p-fluid">
            <form (ngSubmit)="submit()">
                <h5>Création de Employe</h5>
                <LabelInput label="Nom" type="text" name="nom" [(ngModel)]="employe.nom" (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='nom'} " />
                <p *ngIf="errors && errors[0]?.field === 'nom'" style="color: red;">{{errors[0]?.message}}</p>
                <div class="flex flex-column gap-2 container">
                    <div class="labelContainer"><label for="textarea" class="label">Prénom</label></div>
                    <div class="inputContainer"><span class="p-input-icon-left p-input-icon-right"><textarea id=textarea
                                rows="5" cols="30" pInputTextarea name="prenom" [(ngModel)]="employe.prenom"
                                (input)="onInput()"
                                [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='prenom'} "></textarea></span>
                    </div>
                </div>
                <p *ngIf="errors && errors[0]?.field === 'prenom'" style="color: red;">{{errors[0]?.message}}</p>
                <LabelInput label="Email" type="email" name="email" [(ngModel)]="employe.email" (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='email'} " />
                <p *ngIf="errors && errors[0]?.field === 'email'" style="color: red;">{{errors[0]?.message}}</p>
                <LabelInput label="Date de naissance" type="date" name="datenaissance"
                    [(ngModel)]="employe.datenaissance" (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='datenaissance'} " />
                <p *ngIf="errors && errors[0]?.field === 'datenaissance'" style="color: red;">{{errors[0]?.message}}</p>
                <LabelInput label="Numero de telephone" type="tel" name="numerotelephone"
                    [(ngModel)]="employe.numerotelephone" (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='numerotelephone'} " />
                <p *ngIf="errors && errors[0]?.field === 'numerotelephone'" style="color: red;">{{errors[0]?.message}}
                </p>
                <!-- <div class="flex flex-column gap-2 container">
                    <div class="labelContainer"><label class="label">Role</label></div>
                    <div class="inputContainer">
                        <div class="grid formgrid">
                            <div class="inputContainer">
                                <p-multiSelect [(ngModel)]="employe.role" (input)="onInput()"
                                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='role'} "
                                    name="role"
                                    [options]="[{label:  'Employe',value: { id:  1, name: 'Employe' }},{label: 'Manager',value: { id:  2, name: 'Manager' }},{label: 'Client',value: { id:  2, name: 'Client' }},]"
                                    class="multiselect-custom" optionLabel="value.name" display="chip">
                                    <ng-template let-x pTemplate="item">
                                        <div class="flex align-items-center"><span class="ml-2">{{x.value.name}}</span>
                                        </div>
                                    </ng-template>
                                </p-multiSelect>
                            </div>
                        </div>
                    </div>
                </div> -->
                <p *ngIf="errors && errors[0]?.field === 'role'" style="color: red;">{{errors[0]?.message}}</p>
                <LabelInput label="CIN" type="text" name="cin" [(ngModel)]="employe.cin" (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='cin'} " />
                <p *ngIf="errors && errors[0]?.field === 'cin'" style="color: red;">{{errors[0]?.message}}</p>
                <LabelInput label="Numero carte bancaire" type="text" name="numerocartebancaire"
                    [(ngModel)]="employe.numerocartebancaire" (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='numerocartebancaire'} " />
                <p *ngIf="errors && errors[0]?.field === 'numerocartebancaire'" style="color: red;">
                    {{errors[0]?.message}}</p>
                <LabelInput label="Mot de passe" type="password" name="motdepasse" [(ngModel)]="employe.motdepasse"
                    (input)="onInput()"
                    [ngClass]="{'ng-dirty ng-invalid' : errors && errors[0]?.field ==='motdepasse'} " />
                <p *ngIf="errors && errors[0]?.field === 'motdepasse'" style="color: red;">{{errors[0]?.message}}</p>
                <button pButton label="Ajouter" [loading]="isLoading"></button>
            </form>
        </div>
    </div>
</div>