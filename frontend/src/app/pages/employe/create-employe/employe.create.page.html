<div class="grid">
  <div class="col-8 md:col-6">
    <div class="card p-fluid">
      <form (ngSubmit)="submit()">
        <h5>Création de Employe</h5>
        <LabelInput
          label="Nom"
          type="text"
          name="nom"
          [(ngModel)]="employe.nom"
          (input)="onInput()"
          [ngClass]="{'ng-dirty ng-invalid' : error && errors[0]?.field ==='nom'} "
        />
        <p *ngIf="error && errors[0]?.field === 'nom'" class="text-danger">
          {{errors[0]?.message}}
        </p>
        <div class="flex flex-column gap-2 container">
          <div class="labelContainer">
            <label for="textarea" class="label">Prénom</label>
          </div>
          <div class="inputContainer">
            <span class="p-input-icon-left p-input-icon-right">
              <textarea
                id="textarea"
                rows="5"
                cols="30"
                pInputTextarea
                name="prenom"
                [(ngModel)]="employe.prenom"
                (input)="onInput()"
                [ngClass]="{'ng-dirty ng-invalid' : error && errors[0]?.field ==='prenom'} "
              ></textarea>
            </span>
          </div>
        </div>
        <p *ngIf="error && errors[0]?.field === 'prenom'" class="text-danger">
          {{errors[0]?.message}}
        </p>
        <LabelInput
          label="Email"
          type="email"
          name="email"
          [(ngModel)]="employe.email"
          (input)="onInput()"
          [ngClass]="{'ng-dirty ng-invalid' : error && errors[0]?.field ==='email'} "
        />
        <p *ngIf="error && errors[0]?.field === 'email'" class="text-danger">
          {{errors[0]?.message}}
        </p>
        <LabelInput
          label="Date de naissance"
          type="date"
          name="datenaissance"
          [(ngModel)]="employe.datenaissance"
          (input)="onInput()"
          [ngClass]="{'ng-dirty ng-invalid' : error && errors[0]?.field ==='datenaissance'} "
        />
        <p
          *ngIf="error && errors[0]?.field === 'datenaissance'"
          class="text-danger"
        >
          {{errors[0]?.message}}
        </p>
        <div class="flex flex-column gap-2 container">
          <div class="labelContainer"><label class="label">Role</label></div>
          <div class="inputContainer">
            <div class="grid formgrid">
              <div class="inputContainer">
                <p-multiSelect
                  [(ngModel)]="employe.role"
                  (input)="onInput()"
                  [ngClass]="{'ng-dirty ng-invalid' : error && errors[0]?.field ==='role'} "
                  name="role"
                  [options]="[{label:  'Employe',value: { id:  1, name: 'Employe' }},{label: 'Manager',value: { id:  2, name: 'Manager' }},{label: 'Client',value: { id:  2, name: 'Client' }},]"
                  class="multiselect-custom"
                  optionLabel="value.name"
                  display="chip"
                  ><ng-template let-x pTemplate="item"
                    ><div class="flex align-items-center">
                      <span class="ml-2">{{x.value.name}}</span>
                    </div></ng-template
                  ></p-multiSelect
                >
              </div>
            </div>
          </div>
        </div>
        <p *ngIf="error && errors[0]?.field === 'role'" class="text-danger">
          {{errors[0]?.message}}
        </p>
        <LabelInput
          label="CIN"
          type="text"
          name="cin"
          [(ngModel)]="employe.cin"
          (input)="onInput()"
          [ngClass]="{'ng-dirty ng-invalid' : error && errors[0]?.field ==='cin'} "
        />
        <p *ngIf="error && errors[0]?.field === 'cin'" class="text-danger">
          {{errors[0]?.message}}
        </p>
        <button pButton label="Submit" [loading]="isLoading"></button>
      </form>
    </div>
  </div>
</div>
